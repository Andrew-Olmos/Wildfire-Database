{% extends "layout.html" %}
{% block content %}
<h1 class="text-center mb-5">Welcome to Wildfire Database</h1>

<div class="content-section"> 
     <form method="POST" action=""> <!-- State -->
         {{ form.hidden_tag() }}
         <fieldset class="formgroup">
             <div class="form-group">
                {{ form.state.label }}
                {{ form.state(class="form-control form-control-md") }}  
             </div>
         </fieldset>
         <div class="form-group">
            {{ form.state.data }}
            {{ form.submit(class="btn btn-outline-dark ") }}
       </div>
     </form>
     <form method="POST" action=""> <!-- Year -->
        {{ form.hidden_tag() }}
        <fieldset class="formgroup">
            <div class="form-group">
               {{ form.year.label }}
               {{ form.year(class="form-control form-control-md") }}  
            </div>
        </fieldset>
        <div class="form-group">
           {{ form.year.data }}
           {{ form.submit(class="btn btn-outline-dark ") }}
      </div>
    </form>
</div> 
{% if fires %}

  <table id="data" class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Year</th>
        <th>State</th>
      </tr>
    </thead>
    <tbody>
        {% for fire in fires.items %}
        <tr>
            <td>{{fire.FPA_ID}}</td>
            <td>{{fire.FIRE_NAME}}</td>
            <td>{{fire.FIRE_YEAR}}</td>
            <td>{{fire.STATE}}</td>
        </tr>
        {% endfor %}
    </tbody>
  </table>

  <!-- Pagination Links-->
<div class="text-right">
    <a href="{{ url_for('main.home', page=fires.prev_num) }}"
       class="btn btn-outline-dark 
       {% if fires.page == 1 %}disabled{% endif %}">
        &laquo;
    </a><!-- Loop through the number of pages to display a link for each-->
    {% for page_num in fires.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}{% if page_num %}
<!-- Check for the active page and set the link to "Active"-->
            {% if fires.page == page_num %}
            <a href="{{ url_for('main.home', page=page_num) }}"
               class="btn btn-dark">
                {{ page_num }}
            </a>
            {% else %}
            <a href="{{ url_for('main.home', page=page_num) }}"
               class="btn btn-outline-dark">
                {{ page_num }}
            </a>
            {% endif %}
        {% else %}
            ...
        {% endif %}
    {% endfor %}    <a href="{{ url_for('main.home', page=fires.next_num) }}"
       class="btn btn-outline-dark 
       {% if fires.page == fires.pages %}disabled{% endif %}">
        &raquo;
    </a>
</div>
<p class="text-right mt-3">
   Showing page {{ fires.page }} of {{ fires.pages }}
</p>

{% endif %}

<!-- <div class="d-flex flex-row justify-content-center mb-5">
        {{ googlemap(
            identifier="test-map", 
                lat=39.8283, 
                lng=-98.5795,
            zoom=4,
            style="display: flex;flex-direction: row;flex-grow:1;height:calc(100vh - 100px);width:calc(100vw - 100px);margin:0;",
            maptype='TERRAIN',
            zoom_control=false,
            streetview_control=false,
            fullscreen_control=false,
            maptype_control=false,
            mapdisplay=flase,
            collapsible=false,
            scale_control=false,
            center_on_user_location=false,
            markers=[
                    {
                        'icon': '/static/icons/fire_icon.png',
                        'lat':  37.0902,
                        'lng':  -95.7129,
                        'infobox': "Put Fire Info Here"
                    }]
            ) }}
    </div> -->
{% endblock content %}
